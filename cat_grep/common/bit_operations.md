# Битовые операции

## Битовые маски

Каждый флаг представляет собой уникальный бит в целом числе. Нужно для комбинации флагов с помощью битовых операций. (16CC)
Они представляют собой степени двойки в шестнадцатеричной системе счисления.
В двоичной системе это означает, что каждое значение имеет только один бит, установленный в 1, а остальные биты — в 0.

Уникальные биты могут храниться в одной переменной типа `int` с использованием битовых масок.
Битовые маски позволяют эффективно хранить и манипулировать наборами флагов или состояний в одной переменной.

- **`0x01`** (десятичное 1) — 0000 0001
- **`0x02`** (десятичное 2) — 0000 0010
- **`0x04`** (десятичное 4) — 0000 0100
- **`0x08`** (десятичное 8) — 0000 1000
- **`0x10`** (десятичное 16) — 0001 0000
- **`0x20`** (десятичное 32) — 0010 0000
- **`0x40`** (десятичное 64) — 0100 0000
- **`0x80`** (десятичное 128) - 1000 0000

Каждый флаг занимает свой уникальный бит в переменной, что позволяет хранить несколько флагов в одной переменной типа int.

---

## Основные понятия

1. **Бит**: Наименьшая единица информации в компьютере. Бит может иметь значение `0` или `1`.
2. **Битовая маска**: Это число, которое используется для манипулирования отдельными битами в другом числе.
3. **Побитовые операции**: Операции, которые работают с битами напрямую. Основные побитовые операции:
   - **И (`&`)**: Возвращает `1`, если оба бита равны `1`.
   - **ИЛИ (`|`)**: Возвращает `1`, если хотя бы один из битов равен `1`.
   - **ИСКЛЮЧАЮЩЕЕ ИЛИ (`^`)**: Возвращает `1`, если биты различны.
   - **НЕ (`~`)**: Инвертирует все биты числа.
   - **СДВИГ ВЛЕВО (`<<`)**: Сдвигает биты числа влево.
   - **СДВИГ ВПРАВО (`>>`)**: Сдвигает биты числа вправо.

---

## Работа с флагами

### Установка флага `(|=)`

Операция `|=` (битовое ИЛИ с присваиванием) используется для установки флага в переменной.

```C
int flags = 0;  // Изначально все флаги сброшены
flags |= FLAG_E;  // Установка флага FLAG_E
```

В двоичном виде:

```C
flags = 0000 0000
FLAG_E = 0000 0001
flags |= FLAG_E  ->  flags = 0000 0001
```

### Проверка флага `(&)`

Операция `&` (битовое И) используется для проверки, установлен ли определенный флаг.

```C
if (flags & FLAG_E) {
    // Флаг FLAG_E установлен
}
```

В двоичном виде:

```C
flags = 0000 0001
FLAG_E = 0000 0001
flags & FLAG_E  ->  0000 0001 (ненулевое значение, флаг установлен)
```

### Сброс флага `(&= ~)`

Операция `&= ~` (битовое И с инверсией) используется для сброса флага.

```C
flags &= ~FLAG_E;  // Сьрасывает флаг FLAG_E
```

В двоичном виде:

```C
flags = 0000 0001
~FLAG_E = 1111 1110
flags &= ~FLAG_E  ->  flags = 0000 0000
```
